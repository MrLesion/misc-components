/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/free-shipping-bar/index.js":
/*!****************************************!*\
  !*** ./src/free-shipping-bar/index.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utillities__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utillities */ \"./src/utillities/index.js\");\n﻿\r\n\r\ncustomElements.define( 'free-shipping-bar', class extends HTMLElement {\r\n    constructor () {\r\n        super();\r\n        this.shadow          = this.attachShadow( { mode: 'open' } );\r\n        this.style\r\n        this.templateRegEx   = /\\{\\{\\s*(.*?)\\s*\\}\\}/g;\r\n        this.styleVariables  = {\r\n            height: 20,\r\n            color: 'currentColor',\r\n            backgroundColor: '#e1e1e1',\r\n            success: '#d4edda',\r\n            progressColor: 'rebeccapurple'\r\n        };\r\n        this.data            = {\r\n            initOnLoad: true,\r\n            min: 0,\r\n            max: 100,\r\n            feeLimit: 20,\r\n            feeLabelBottom: '',\r\n            feeLabelTop: '',\r\n            shippingLimit: 80,\r\n            shippingLabelBottom: '',\r\n            shippingLabelTop: '',\r\n            currentValue: 0,\r\n            template: null\r\n        };\r\n        this.computed        = {\r\n            shippingLimitCalculated () {\r\n                return ( ( this.data.shippingLimit - this.data.min ) / ( this.data.max - this.data.min ) ) * 100;\r\n            },\r\n            currentValueCalculated () {\r\n                const value = ( ( this.data.currentValue - this.data.min ) / ( this.data.max - this.data.min ) ) * 100;\r\n                return value < 100 ? value : 100;\r\n            },\r\n            feeLimitCalculated () {\r\n                return ( ( this.data.feeLimit - this.data.min ) / ( this.data.max - this.data.min ) ) * 100;\r\n            },\r\n            feeLimitReached () {\r\n                return this.data.feeLimit <= this.data.currentValue ? 'reached' : '';\r\n            },\r\n            shippingLimitReached () {\r\n                return this.data.shippingLimit <= this.data.currentValue ? 'reached' : '';\r\n            }\r\n        }\r\n        this.container       = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.buildHtmlElement)( 'div', { id: (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.generateGuid)() } );\r\n        this.shadow.appendChild( this.container );\r\n    }\r\n\r\n    connectedCallback () {\r\n        console.log('connected');\r\n        this.setDataByAttributes();\r\n        this.setStyle();\r\n        this.dispatchEvent( new CustomEvent( 'connected' ) );\r\n        \r\n        console.log(this.data);\r\n        \r\n        if(this.data.initOnLoad === true){\r\n            window.document.addEventListener( 'DOMContentLoaded', () => {\r\n                this.init();\r\n            } );\r\n        }\r\n    }\r\n    \r\n    init(){\r\n        this.setTemplate();\r\n        this.classList.add('is-loaded');\r\n        this.dispatchEvent( new CustomEvent( 'loaded' ) );\r\n    }\r\n\r\n    update ( objUpdate ) {\r\n        Object.keys( objUpdate ).forEach( ( key ) => {\r\n            if(key === 'customStyle'){\r\n                this.styleVariables = Object.assign(this.styleVariables, objUpdate[ key ]);\r\n            }\r\n            if ( Object.hasOwn( this.data, key ) ) {\r\n                this.data[ key ] = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.formatOptionValue)( objUpdate[ key ] );\r\n            }\r\n        } );\r\n        this.container.removeChild( this.container.children[ 0 ] );\r\n        this.setStyle();\r\n        this.setTemplate();\r\n        this.dispatchEvent( new CustomEvent( 'updated' ) );\r\n    }\r\n\r\n    setTemplate () {\r\n        const template = this.querySelector( 'template' );\r\n        if ( template !== null ) {\r\n            const clone = document.importNode( template.content, true );\r\n            this.setValues( clone.childNodes )\r\n            this.container.appendChild( clone );\r\n        }\r\n        else {\r\n            this.buildTemplate();\r\n        }\r\n    }\r\n\r\n    setValues ( children ) {\r\n        children.forEach( ( child ) => {\r\n            if ( child.nodeType === Node.TEXT_NODE ) {\r\n                const text        = child.textContent;\r\n                child.textContent = text.replace( this.templateRegEx, ( match, variable ) => {\r\n                    if ( Object.hasOwn( this.data, variable ) ) {\r\n                        return this.data[ variable ];\r\n                    }\r\n                    else if ( Object.hasOwn( this.computed, variable ) ) {\r\n                        return this.computed[ variable ].call( this );\r\n                    }\r\n                    else {\r\n                        return match;\r\n                    }\r\n                } );\r\n            }\r\n            else if ( child.nodeType === Node.ELEMENT_NODE ) {\r\n                const pseudoAttributes = Array.from( child.attributes ).filter( a => a.name.substring( 0, 1 ) === ':' );\r\n                for ( let i = 0; i < pseudoAttributes.length; i++ ) {\r\n                    ( ( index ) => {\r\n                        let hasAttribute        = true;\r\n                        const pseudoAttribute   = pseudoAttributes[ index ];\r\n                        const realAttributeName = pseudoAttribute.name.substring( 1 );\r\n                        const realAttribute     = child.getAttribute( realAttributeName );\r\n                        let value               = realAttribute;\r\n                        if ( realAttribute === null ) {\r\n                            hasAttribute = false;\r\n                            child.setAttribute( realAttributeName, '' );\r\n                            value = '';\r\n                        }\r\n                        const newValue = pseudoAttribute.value.replace( this.templateRegEx, ( match, variable ) => {\r\n                            if ( Object.hasOwn( this.data, variable ) ) {\r\n                                return this.data[ variable ];\r\n                            }\r\n                            else if ( Object.hasOwn( this.computed, variable ) ) {\r\n                                return this.computed[ variable ].call( this );\r\n                            }\r\n                            else {\r\n                                return match;\r\n                            }\r\n                        } );\r\n                        if ( hasAttribute === true ) {\r\n                            value += ` ${newValue}`;\r\n                        }\r\n                        else {\r\n                            value = `${newValue}`.trim();\r\n                        }\r\n                        child.removeAttribute( pseudoAttribute.name );\r\n                        child.setAttribute( realAttributeName, value );\r\n                    } )( i );\r\n                }\r\n                this.setValues( child.childNodes );\r\n            }\r\n        } );\r\n    }\r\n\r\n    setDataByAttributes () {\r\n        this.getAttributeNames().forEach( ( attributeName ) => {\r\n            if(attributeName === 'custom-style'){\r\n               this.styleVariables = Object.assign(this.styleVariables, JSON.parse(this.getAttribute( attributeName )));\r\n            }\r\n            if ( Object.hasOwn( this.data, (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.formatOptionAttribute)( attributeName ) ) ) {\r\n                this.data[ (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.formatOptionAttribute)( attributeName ) ] = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.formatOptionValue)( this.getAttribute( attributeName ) );\r\n            }\r\n        } );\r\n    }\r\n\r\n    buildTemplate () {\r\n        const container          = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.buildHtmlElement)( 'div', { class: 'free-shipping-bar' } );\r\n        const content            = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.buildHtmlElement)( 'div', { class: 'free-shipping-bar--progress' } );\r\n        const calculatedElements = this.getCalculatedElements.call( this );\r\n        calculatedElements.forEach( ( calculatedElement ) => {\r\n            content.append( calculatedElement );\r\n        } );\r\n        container.appendChild( content );\r\n        this.container.appendChild( container );\r\n    }\r\n    \r\n    setStyle(){\r\n        let styleVariables = this.styleVariables;\r\n        const currentStyleSheet = this.shadow.querySelector('#stylesheet');\r\n        const style          = `\r\n            :host{\r\n                width: 100%;\r\n                margin:0 auto;\r\n                display:block;\r\n                position:relative;\r\n                color: ${styleVariables.color};\r\n                user-select: none;\r\n            }\r\n            .free-shipping-bar--progress{\r\n                width: 100%;\r\n                display:block;\r\n                height: ${styleVariables.height}px;\r\n                background-color: ${styleVariables.backgroundColor};\r\n                border: 1px solid ${styleVariables.dark};\r\n                border-radius: 10px;\r\n                position:relative;\r\n                box-shadow: inset 1px 1px 3px rgba(0,0,0, .35);\r\n            }\r\n            .free-shipping-bar--line{\r\n                height: ${styleVariables.height}px;\r\n                background: ${styleVariables.progressColor};\r\n                left: 0;\r\n                top: 1px;\r\n                border-radius: 10px;\r\n            }\r\n            .free-shipping-bar--label{\r\n                position: absolute;\r\n                transform: translate(-50%, -50%);\r\n                text-align: center;\r\n                font-size: .75em;\r\n                font-weight: bold;\r\n            }\r\n            .free-shipping-bar--label.position-top{\r\n                bottom: ${styleVariables.height + 5}px;\r\n            }\r\n            \r\n            .free-shipping-bar--label.position-bottom{\r\n                top: ${styleVariables.height + 25}px;\r\n                padding: 5px 10px;\r\n                background-color: ${styleVariables.backgroundColor};\r\n                color:invert(${styleVariables.backgroundColor})\r\n                border-radius: 5px;\r\n                box-shadow: 0 1px 2px 0 rgba(0,0,0, .25);\r\n            }\r\n            .free-shipping-bar--label.position-bottom::before{\r\n                content: '';\r\n                position: absolute;\r\n                width: 0;\r\n                height: 0;\r\n                border: 5px solid transparent;\r\n                border-bottom-color: ${styleVariables.backgroundColor};\r\n                top: 0;\r\n                left: 0;\r\n                margin: -9px 50%;\r\n                transform: translateX(-50%);\r\n            }\r\n            .free-shipping-bar--label.position-bottom.reached{\r\n                background-color: ${styleVariables.success};\r\n            }\r\n            .free-shipping-bar--label.position-bottom.reached::before{\r\n                border-bottom-color: ${styleVariables.success};\r\n            }\r\n            .free-shipping-bar--label.align-left{\r\n                transform: translate(0, -50%);\r\n            }\r\n            .free-shipping-bar--label.align-right{\r\n                transform: translate(-100%, -50%);\r\n            }\r\n            .free-shipping-bar--pipe{\r\n                position: absolute;\r\n                top: 0;\r\n                bottom: 0;\r\n                transform: translateX(-50%);\r\n                width: 2px;\r\n                background-color:white;\r\n            }\r\n            .free-shipping-bar--current{\r\n                width: ${styleVariables.height}px;\r\n                height: ${styleVariables.height}px;\r\n                background-color: ${styleVariables.progressColor};\r\n                border-radius: 50%;\r\n                position: absolute;\r\n                top: 50%;\r\n                transform: translate(-50%, -50%);\r\n                border: 4px solid #fff;\r\n                box-shadow: 0 0 2px rgba(0,0,0, .75);\r\n                z-index: 1;\r\n            }\r\n        `;\r\n        if(currentStyleSheet !== null){\r\n            this.shadow.removeChild(currentStyleSheet);\r\n        }\r\n        const styleSheet = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.buildHtmlElement)( 'style', {id: 'stylesheet'}, (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.minifyStyle)( style ) );\r\n        this.shadow.appendChild( styleSheet );\r\n    }\r\n\r\n    getCalculatedElements () {\r\n        const currentValuePercentage        = ( ( this.data.currentValue - this.data.min ) / ( this.data.max - this.data.min ) ) * 100;\r\n        const feeLimitPercentage            = ( ( this.data.feeLimit - this.data.min ) / ( this.data.max - this.data.min ) ) * 100;\r\n        const shippingLimitPercentage       = ( ( this.data.shippingLimit - this.data.min ) / ( this.data.max - this.data.min ) ) * 100;\r\n        const currentValueElement           = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.buildHtmlElement)( 'div', { class: 'free-shipping-bar--current' } );\r\n        const currentValueLine              = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.buildHtmlElement)( 'div', { class: 'free-shipping-bar--line' } );\r\n        const minValueLabel                 = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.buildHtmlElement)( 'div', { class: 'free-shipping-bar--label position-top align-left' }, new Intl.NumberFormat( 'da-DK', {\r\n            style: 'currency',\r\n            currency: 'DKK'\r\n        } ).format( 0 ) );\r\n        const maxValueLabel                 = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.buildHtmlElement)( 'div', { class: 'free-shipping-bar--label position-top align-right' }, '+' );\r\n        const feeValueLabelTop              = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.buildHtmlElement)( 'div', { class: 'free-shipping-bar--label position-top' }, this.data.feeLabelTop );\r\n        const feeValueLabelBottom           = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.buildHtmlElement)( 'div', { class: 'free-shipping-bar--label position-bottom' }, this.data.feeLabelBottom );\r\n        const feeValuePipe                  = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.buildHtmlElement)( 'div', { class: 'free-shipping-bar--pipe' } );\r\n        const shippingValueLabelTop         = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.buildHtmlElement)( 'div', { class: 'free-shipping-bar--label position-top' }, this.data.shippingLabelTop );\r\n        const shippingValueLabelBottom      = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.buildHtmlElement)( 'div', { class: 'free-shipping-bar--label position-bottom' }, this.data.shippingLabelBottom );\r\n        const shippingValuePipe             = (0,_utillities__WEBPACK_IMPORTED_MODULE_0__.buildHtmlElement)( 'div', { class: 'free-shipping-bar--pipe' } );\r\n        currentValueLine.style.width        = `${currentValuePercentage}%`;\r\n        currentValueElement.style.left      = `${currentValuePercentage}%`;\r\n        feeValueLabelTop.style.left         = `${feeLimitPercentage}%`;\r\n        feeValueLabelBottom.style.left      = `${feeLimitPercentage}%`;\r\n        feeValuePipe.style.left             = `${feeLimitPercentage}%`;\r\n        shippingValueLabelTop.style.left    = `${shippingLimitPercentage}%`;\r\n        shippingValueLabelBottom.style.left = `${shippingLimitPercentage}%`;\r\n        shippingValuePipe.style.left        = `${shippingLimitPercentage}%`;\r\n        maxValueLabel.style.left            = `100%`;\r\n        return [\r\n            minValueLabel,\r\n            maxValueLabel,\r\n            currentValueLine,\r\n            currentValueElement,\r\n            feeValueLabelTop,\r\n            feeValueLabelBottom,\r\n            feeValuePipe,\r\n            shippingValueLabelTop,\r\n            shippingValueLabelBottom,\r\n            shippingValuePipe\r\n        ];\r\n    }\r\n} );\n\n//# sourceURL=webpack://components/./src/free-shipping-bar/index.js?");

/***/ }),

/***/ "./src/utillities/index.js":
/*!*********************************!*\
  !*** ./src/utillities/index.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildHtmlElement: () => (/* binding */ buildHtmlElement),\n/* harmony export */   formatOptionAttribute: () => (/* binding */ formatOptionAttribute),\n/* harmony export */   formatOptionValue: () => (/* binding */ formatOptionValue),\n/* harmony export */   generateGuid: () => (/* binding */ generateGuid),\n/* harmony export */   minifyStyle: () => (/* binding */ minifyStyle)\n/* harmony export */ });\n﻿const buildHtmlElement = ( tagName, attributes = {}, content = '' ) => {\r\n    const htmlElement = document.createElement( tagName );\r\n    Object.keys( attributes ).forEach( key => htmlElement.setAttribute( key, attributes[ key ] ) );\r\n    if ( content !== '' ) {\r\n        htmlElement.innerHTML = content;\r\n    }\r\n    return htmlElement;\r\n}\r\nconst formatOptionAttribute = ( strOptionsAttributeName ) => {\r\n    return strOptionsAttributeName.split( '-' ).map( ( char, index ) => index ? char.charAt( 0 ).toUpperCase() + char.slice( 1 ).toLowerCase() : char.toLowerCase() ).join( '' );\r\n}\r\nconst formatOptionValue = ( strAttribute ) => {\r\n    let value = Number( strAttribute );\r\n    if ( isNaN( value ) ) {\r\n        value = strAttribute;\r\n        if ( value.toLowerCase() === 'true' ) {\r\n            value = true;\r\n        }\r\n        else if ( value.toLowerCase() === 'false' ) {\r\n            value = false;\r\n        }\r\n        else if ( value.indexOf( ',' ) > -1 ) {\r\n            value = value.split( ',' ).map( ( str ) => str );\r\n        }\r\n    }\r\n    return value;\r\n}\r\n\r\nconst generateGuid = () => {\r\n    const array = new Uint32Array(4);\r\n    crypto.getRandomValues(array);\r\n\r\n    return `${toHex(array[0], 8)}-${toHex(array[1], 4)}-${toHex(array[2], 4)}-${toHex(array[3], 8)}`;\r\n}\r\n\r\nconst toHex = (value, length) => {\r\n    let hex = value.toString(16);\r\n    while (hex.length < length) {\r\n        hex = '0' + hex;\r\n    }\r\n    return hex;\r\n}\r\n\r\nconst minifyStyle = (input) =>{\r\n    let output = input;\r\n    output = output.replace(/\\/\\*[\\s\\S]*?\\*\\//g, '');\r\n    output = output.replace(/\\s+/g, ' ');\r\n    output = output.trim();\r\n    return output;\r\n}\r\n\r\n\r\n\n\n//# sourceURL=webpack://components/./src/utillities/index.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/free-shipping-bar/index.js");
/******/ 	
/******/ })()
;